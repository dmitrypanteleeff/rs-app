(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=document.querySelectorAll(".attach__input-file"),t=document.querySelectorAll(".attach__btn-delete-wrapper"),s=e=>{const t=e.target.closest(".attach__card-wrapper"),s=t.querySelector(".attach__input-file"),a=t.querySelector(".attach__file-not-attached"),l=t.querySelector(".attach__file-attached");s.value="",l.classList.remove("active"),a.classList.add("active")};e&&e.forEach((e=>{e.addEventListener("change",(function(){this.value&&(e=>{const t=e.nextElementSibling.querySelector(".attach__file-not-attached"),s=e.nextElementSibling.querySelector(".attach__file-attached");t.classList.remove("active"),s.classList.add("active")})(e)}))})),t&&t.forEach((e=>e.addEventListener("click",s)))})(),(()=>{const e=document.querySelectorAll(".code-wrapper__input-value");e&&(e.forEach((e=>e.maxLength=1)),e.forEach(((t,s)=>t.addEventListener("input",(()=>((t,s)=>{t.value=t.value.replace(/[^0-9\+]/g,""),1===t.value.length&&s!==e.length-1&&e[s+1].focus()})(t,s))))),e.forEach(((t,s)=>t.addEventListener("keydown",(()=>((t,s,a)=>{8!=t.keyCode&&46!=t.keyCode||0===s.value.length&&0!==a&&e[a-1].focus()})(event,t,s))))))})(),(()=>{let e=document.querySelector(".window-agreement__hint-count");if(e){e.textContent=20;const t=setInterval((()=>{+e.textContent>0?e.textContent=+e.textContent-1:clearInterval(t)}),1e3)}})(),(()=>{const e=document.querySelector(".step-calc__btn-add-wrapper"),t=document.querySelector(".modal-window"),s=document.querySelector(".modal-window__btn-close"),a=()=>{t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")};e&&e.addEventListener("click",a),s&&s.addEventListener("click",a)})(),new class{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedID=t.selectedID,this.#e(),this.#t()}#e(){const{placeholder:e,data:t,title:s}=this.options;this.$el&&(this.$el.classList.add("select"),this.$el.innerHTML=((e=[],t,s,a)=>{let l=t??"placholder default";const c=e.map((e=>{let t="";return e.id==a&&(l=e.value,t="selected"),`\n            <li class="select__item ${t}" data-type="item" data-id="${e.id}">${e.value}</li>\n        `}));return c.join(""),`\n        <div class="select__backdrop" data-type="select-backdrop"></div>\n        <div class="select__title-wrapper">\n            <div class="text select__title">${s}</div>\n        </div>\n        \n        <div class="select__wrapper input">\n            <div class="select__value input__value" data-type="input">\n                <span class="text input__value-item select__value-item" data-type="value">${l}</span>\n                <i class="fa fa-chevron-down" aria-hidden="true" data-type="arrow"></i>\n            </div>\n            <div class="select__dropdown">\n                <ul class="select__list text">\n                    ${c.join("")}\n                </ul>\n            </div>\n        </div>\n    `})(t,e,s,this.selectedID))}#t(){this.clickHandler=this.clickHandler.bind(this),this.$el&&(this.$el.addEventListener("click",this.clickHandler),this.$arrow=this.$el.querySelector('[data-type="arrow"]'),this.$value=this.$el.querySelector('[data-type="value"]'))}clickHandler(e){const{type:t}=e.target.dataset;if("input"===t||"value"===t)this.toggle();else if("item"===t){const t=e.target.dataset.id;this.select(t)}else this.close()}get isOpen(){return this.$el.classList.contains("open")}get current(){return this.options.data.find((e=>e.id==this.selectedID))}select(e){this.selectedID=e,this.$value.textContent=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach((e=>{e.classList.remove("selected")})),this.$el.querySelector(`[data-id="${e}"]`).classList.add("selected"),this.close()}toggle(){this.isOpen?this.close():this.open()}destroy(){this.$el.removeEventListener("click",this.clickHandler),this.$el.innerHTML=""}open(){this.$el.classList.add("open"),this.$arrow.classList.remove("fa-chevron-down"),this.$arrow.classList.add("fa-chevron-up")}close(){this.$el.classList.remove("open"),this.$arrow.classList.remove("fa-chevron-up"),this.$arrow.classList.add("fa-chevron-down")}}("#select",{title:"Пол",placeholder:"Выберите пол",data:[{id:0,value:"Мужской"},{id:1,value:"Женский"}]})})();